


\usepackage{layouts}
\geometry{
  left=1.05in, % left margin
  textwidth=5.0in, % main text block
  marginparsep=0.15in, % gutter between main text block and margin notes
  marginparwidth=1.25in, % width of margin notes
  right=2.5in,  
  top=0.5in,
}
\setlength\topmargin{0.0in}

\usepackage{nameref} 
\usepackage{url} 


\usepackage[
  style=numeric,  
  backend=biber
]{biblatex}

\addbibresource{spec-refs.bib} 
\usepackage{xargs}

\setlength{\headheight}{0in}
\setlength{\voffset}{0in}
\setlength{\headsep}{0in}

% add page number to chapter start
\fancypagestyle{plain}{}

% Book metadata
\title{The Graph Protocol Specification}
\date{\today}
\author[]{Heaton}
\publisher{}
\usepackage{fancyhdr}
\pagestyle{fancy} % allows for more advanced header and footer formats

                % Customizations
                \renewcommand{\chaptermark}[1]{ \markboth{#1}{} }  % customize chapter name here
                \renewcommand{\chaptername}{Chapter}
                \renewcommand{\sectionmark}[1]{ \markright{#1} } % customize section name here

                % Define headers
                \fancypagestyle{mainmatter}{
                    % Header and footer lines
                    \renewcommand{\headrulewidth}{0.0pt}
                    \renewcommand{\footrulewidth}{0.0pt}

                    % Headers
                    \fancyhead{} % clear header field
                    %\fancyhead[RO]{ \textbf{ \chaptername\ \thechapter:\ \leftmark } } % customize chapter name header here
                    %\fancyhead[LE]{   \textbf{ \rightmark }  } % customize section name header here

                    % Foot
                    \fancyfoot{} % clear foot fields
                    \fancyfoot[C]{ \thepage } % here is where the page position is defined
                }
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%              Added by Howard
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[linktocpage=true]{hyperref}
\hypersetup{hidelinks}

 

\usepackage{amsmath}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\usepackage{enumerate}
\usepackage[shortlabels]{enumitem}

 

% \usepackage[nodisplayskipstretch]{setspace}
%\PassOptionsToPackage{nodisplayskipstretch}{setspace} 
\setdisplayskipstretch{}


\makeatletter
\newif\if@tufte@margtab\@tufte@margtabfalse
\AtBeginEnvironment{margintable}{\@tufte@margtabtrue}
\AtEndEnvironment{margintable}{\@tufte@margtabfalse}
\newcommand{\classiccaptionstyle}{%
    \long\def\@caption##1[##2]##3{%
        \par
        \addcontentsline{\csname ext@##1\endcsname}{##1}%
        {\protect\numberline{\csname the##1\endcsname}{\ignorespaces ##2}}%
        \begingroup
        \@parboxrestore
        \if@minipage
        \@setminipage
        \fi
        \normalsize
        \@makecaption{\csname fnum@##1\endcsname}{\ignorespaces ##3}\par
        \endgroup}
    \long\def\@makecaption##1##2{%
        \vskip\abovecaptionskip
        \sbox\@tempboxa{\@tufte@caption@font##1: ##2}%
        \ifdim \wd\@tempboxa >\hsize
        \@tufte@caption@font\if@tufte@margtab\@tufte@caption@justification\fi##1: ##2\par
        \else
        \global \@minipagefalse
        \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
        \fi
        \vskip\belowcaptionskip}
        \setcaptionfont{\normalfont}
    \let\caption\@tufte@orig@caption%
    \let\label\@tufte@orig@label}
\makeatother

\newenvironment{pagetable}{%
    \begin{table*}[h]
    \classiccaptionstyle
  }{\end{table*}}

\newenvironment{pagefigure}{%
    \begin{figure*}[h]
    \classiccaptionstyle
  }{\end{figure*}}
  
  \newenvironment{pagefiguretop}{%
    \begin{figure*}[t]
    \classiccaptionstyle
  }{\end{figure*}}
  
  
\newenvironment{sidefigure}{%
    \begin{marginfigure} 
    \classiccaptionstyle
    \singlespacing
}{\end{marginfigure}}

\usepackage{pgfplots}
\usepackage{multirow}

\usepackage{amsmath}%
\usepackage{MnSymbol}%
\usepackage{wasysym}%
 
\newcounter{ExCtr}
\renewcommand{\theExCtr}{\arabic{ExCtr}}
\setcounter{ExCtr}{0}
\newenvironment{Example}{\refstepcounter{ExCtr}{\bf Example \theExCtr: }}{}

\newenvironment{Proof}{\begin{adjustwidth}{0.0 in}{} {\em Proof:}}{\hspace*{1pt}\hfill$\blacksquare$\end{adjustwidth}}

\def\parbreak{\\[5pt]}

\newcommand{\fix}[1]{\mathrm{fix}(#1)}
\newcommand{\prox}[1]{\mathrm{prox}_{#1}}
\usepackage{bbm}
\newcommand{\bbE}{\mathbbm{E}}
\newcommand{\bbH}{\mathbbm{H}}
\newcommand{\bbN}{\mathbbm{N}}
\newcommand{\bbO}{\mathbbm{O}}
\newcommand{\bbP}{\mathbbm{P}}
\newcommand{\bbQ}{\mathbbm{Q}}
\newcommand{\bbR}{\mathbbm{R}}
\newcommand{\bbZ}{\mathbbm{Z}}

\newcommand{\sA}{\mathcal{A}}
\newcommand{\sB}{\mathcal{B}}
\newcommand{\sC}{\mathcal{C}}
\newcommand{\sD}{\mathcal{D}}
\newcommand{\sE}{\mathcal{E}}
\newcommand{\sF}{\mathcal{F}}
\newcommand{\sG}{\mathcal{G}}
\newcommand{\sH}{\mathcal{H}}
\newcommand{\sI}{\mathcal{I}}
\newcommand{\sJ}{\mathcal{J}}
\newcommand{\sK}{\mathcal{K}}
\newcommand{\sL}{\mathcal{L}}
\newcommand{\sM}{\mathcal{M}}
\newcommand{\sN}{\mathcal{N}}
\newcommand{\sO}{\mathcal{O}}
\newcommand{\sP}{\mathcal{P}}
\newcommand{\sQ}{\mathcal{Q}}
\newcommand{\sR}{\mathcal{R}}
\newcommand{\sS}{\mathcal{S}}
\newcommand{\sT}{\mathcal{T}}
\newcommand{\sU}{\mathcal{U}}
\newcommand{\sV}{\mathcal{V}}
\newcommand{\sW}{\mathcal{W}}
\newcommand{\sX}{\mathcal{X}}
\newcommand{\sY}{\mathcal{Y}}
\newcommand{\sZ}{\mathcal{Z}} 

 
\usepackage{braket}

\newcommand{\dd}[2]{\dfrac{\mathrm{d}#1}{\mathrm{d}#2}}
\newcommand{\pp}[2]{\dfrac{\partial#1}{\partial #2}}

\usepackage{tcolorbox} % drawing around verbatim

\newcommand{\II}{\mathrm{I}}

\newcommand{\itemsymbol}{{\small $\blacktriangleright$}}
%\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[lined, ruled]{algorithm2e}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{assumption}{Assumption}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{remark}{Remark}[section]
\newtheorem{definition}{Definition}[section]


\def\ROWCOLOR{black!10!white}
\usepackage{arydshln} % for hdashline

\newenvironment{proof}{\textit{Proof}:}{\hfill $\blacksquare$}


\newcommand{\bm}[1]{{\bf #1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% WP Commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{projcolor}{rgb}{1,0.0,0.1}
\definecolor{avecolor}{rgb}{0.6,0.5,0.0} 
\definecolor{distcolor}{rgb}{0.1,0.4,0.9} 
\definecolor{gcolor}{rgb}{0.5,0.0,0.7}
\newcommand{\DU}{ \sD_{\rm true} }
\newcommand{\PU}{ \bbP_{\mathrm{true}} }
\newcommand{\OU}{ \Omega_{\mathrm{true}} }
\newcommand{\FU}{ \sF_{\mathrm{true}} }

\usepackage{subfig}

\newcommand{\limk}{\lim_{k\rightarrow\infty}}
\def\W{1.25}
\def\spycolor{projcolor!75!black}
%--------------------------------------------------
%--------------------------------------------------
% Below is code for using spy and adjincludegraphics
% to highlight and zoom in
%--------------------------------------------------
%--------------------------------------------------
\usepackage[Export]{adjustbox}
\usepackage{subfig}
\usetikzlibrary{tikzmark,calc,,arrows,shapes,decorations.pathreplacing}
\tikzset{every picture/.style={remember picture}}
\usetikzlibrary{fit,shapes.misc}
\usetikzlibrary{positioning,backgrounds,spy} 



 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title Page Stuff added by Howard
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{geometry} 
\usepackage{amsmath}
\usepackage[some]{background}
\usepackage{lipsum}
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%
% Just some sample text
\usepackage{lipsum}

%%
% For nicely typeset tabular material
\usepackage{booktabs}

%%
% For graphics / images
\usepackage{graphicx}
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}
\graphicspath{{graphics/}}

% The fancyvrb package lets us customize the formatting of verbatim
% environments.  We use a slightly smaller font.
\usepackage{fancyvrb}
\fvset{fontsize=\normalsize}

%%
% Prints argument within hanging parentheses (i.e., parentheses that take
% up no horizontal space).  Useful in tabular environments.
\newcommand{\hangp}[1]{\makebox[0pt][r]{(}#1\makebox[0pt][l]{)}}

%%
% Prints an asterisk that takes up no horizontal space.
% Useful in tabular environments.
\newcommand{\hangstar}{\makebox[0pt][l]{*}}

%%
% Prints a trailing space in a smart way.
\usepackage{xspace} 

% Prints the month name (e.g., January) and the year (e.g., 2008)
\newcommand{\monthyear}{%
  \ifcase\month\or January\or February\or March\or April\or May\or June\or
  July\or August\or September\or October\or November\or
  December\fi\space\number\year
}


\usepackage{pdfpages}


% Prints an epigraph and speaker in sans serif, all-caps type.
\newcommand{\openepigraph}[2]{%
  %\sffamily\fontsize{14}{16}\selectfont
  \begin{fullwidth}
  \sffamily\large
  \begin{doublespace}
  \noindent\allcaps{#1}\\% epigraph
  \noindent\allcaps{#2}% author
  \end{doublespace}
  \end{fullwidth}
}

% Inserts a blank page
%\newcommand{\blankpage}{\newpage\hbox{}\thispagestyle{empty}\newpage}

\usepackage{units}

% Typesets the font size, leading, and measure in the form of 10/12x26 pc.
\newcommand{\measure}[3]{#1/#2$\times$\unit[#3]{pc}}

% Macros for typesetting the documentation
\newcommand{\hlred}[1]{\textcolor{Maroon}{#1}}% prints in red
\newcommand{\hangleft}[1]{\makebox[0pt][r]{#1}}
\newcommand{\hairsp}{\hspace{1pt}}% hair space
\newcommand{\hquad}{\hskip0.5em\relax}% half quad space
\newcommand{\TODO}{\textcolor{red}{\bf TODO!}\xspace}
\newcommand{\ie}{\textit{i.\hairsp{}e.}\xspace}
\newcommand{\eg}{\textit{e.\hairsp{}g.}\xspace}
\newcommand{\nb}{\textit{n.\hairsp{}b.}\xspace}
\newcommand{\cf}{\textit{c.\hairsp{}f.}\xspace}
\newcommand{\na}{\quad--}% used in tables for N/A cells
\providecommand{\XeLaTeX}{X\lower.5ex\hbox{\kern-0.15em\reflectbox{E}}\kern-0.1em\LaTeX}
\newcommand{\tXeLaTeX}{\XeLaTeX\index{XeLaTeX@\protect\XeLaTeX}}
% \index{\texttt{\textbackslash xyz}@\hangleft{\texttt{\textbackslash}}\texttt{xyz}}
\newcommand{\tuftebs}{\symbol{'134}}% a backslash in tt type in OT1/T1
\newcommand{\doccmdnoindex}[2][]{\texttt{\tuftebs#2}}% command name -- adds backslash automatically (and doesn't add cmd to the index)
\newcommand{\doccmddef}[2][]{%
  \hlred{\texttt{\tuftebs#2}}\label{cmd:#2}%
  \ifthenelse{\isempty{#1}}%
    {% add the command to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% command name
    }%
    {% add the command and package to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% command name
      \index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
    }%
}% command name -- adds backslash automatically
\newcommand{\doccmd}[2][]{%
  \texttt{\tuftebs#2}%
  \ifthenelse{\isempty{#1}}%
    {% add the command to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% command name
    }%
    {% add the command and package to the index
      \index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% command name
      \index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
    }%
}% command name -- adds backslash automatically
\newcommand{\docopt}[1]{\ensuremath{\langle}\textrm{\textit{#1}}\ensuremath{\rangle}}% optional command argument
\newcommand{\docarg}[1]{\textrm{\textit{#1}}}% (required) command argument
\newenvironment{docspec}{\begin{quotation}\ttfamily\parskip0pt\parindent0pt\ignorespaces}{\end{quotation}}% command specification environment
\newcommand{\docenv}[1]{\texttt{#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name
\newcommand{\docenvdef}[1]{\hlred{\texttt{#1}}\label{env:#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name
\newcommand{\docpkg}[1]{\texttt{#1}\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}}% package name
\newcommand{\doccls}[1]{\texttt{#1}}% document class name
\newcommand{\docclsopt}[1]{\texttt{#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name
\newcommand{\docclsoptdef}[1]{\hlred{\texttt{#1}}\label{clsopt:#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name defined
\newcommand{\docmsg}[2]{\bigskip\begin{fullwidth}\noindent\ttfamily#1\end{fullwidth}\medskip\par\noindent#2}
\newcommand{\docfilehook}[2]{\texttt{#1}\index{file hooks!#2}\index{#1@\texttt{#1}}}
\newcommand{\doccounter}[1]{\texttt{#1}\index{#1 counter@\texttt{#1} counter}}

% Generates the index
\usepackage{makeidx}
\makeindex

% add numbers to chapters, sections, subsections
%\setcounter{secnumdepth}{3}
%\setcounter{tocdepth}{3}

\setcounter{secnumdepth}{1} % levels under \section are not numbered
\setcounter{tocdepth}{2}    % levels under \subsection are not listed in the TOC

\titlecontents{part}%
    [0.1\textwidth]% distance from left margin
    {\centering \addvspace{0.25\baselineskip} \rule{0.9\textwidth}{1pt}\newline}% above (global formatting of entry)
    {\allcaps{Part~\thecontentslabel} }% before w/ label (label = ``Part I'')
    {  }% before w/o label
    {\newline\rule{0.9\textwidth}{1pt}}% filler and page (leaders and page num)
    [\vspace*{0.1\baselineskip}]% after

\titlecontents{chapter}%
    [0.05\textwidth]% distance from left margin
    {\bfseries}% above (global formatting of entry)
    {\thecontentslabel.\hspace{5pt}}% before w/ label (label = ``Chapter 1'')
    {\hspace{0em}}% before w/o label
    {\qquad\hfill \thecontentspage}% filler and page (leaders and page num)
    [\vspace*{0.0\baselineskip}]% after
%%%% End additional code by Kevin Godby

\titlecontents{section}%
    [0.1\textwidth]% distance from left margin
    {}% above (global formatting of entry)
    {\thecontentslabel.\hspace{5pt}}% before w/ label (label = ``Chapter 1'')
    {\hspace{0em}}% before w/o label
    {\qquad\hfill \thecontentspage}% filler and page (leaders and page num)
    [\vspace*{0.0\baselineskip}]% after

\titlecontents{subsection}%
    [0.15\textwidth]% distance from left margin
    {}% above (global formatting of entry)
    {\thecontentslabel.\hspace{5pt}}% before w/ label (label = ``Chapter 1'')
    {\hspace{0em}}% before w/o label
    {\qquad\hfill \thecontentspage}% filler and page (leaders and page num)
    [\vspace*{0.0\baselineskip}]% after


% chapter format
\titleformat{\part}%
  {\vspace*{-1.0in} \rule{\textwidth}{2.5pt} \centering \huge\bf\newline}% format applied to label+text
  { Part \thepart:}% label
  {10pt}% horizontal separation between label and title body
  {  }% before the title body
  [\vspace*{-15pt} \rule{\textwidth}{2.5pt}  \vspace*{-80pt} ]% after the title body

% chapter format
\titleformat{\chapter}%
  {\vspace*{-1.0in} \huge\bf}% format applied to label+text
  { Chapter \thechapter:}% label
  {10pt}% horizontal separation between label and title body
  { }% before the title body
  [\vspace*{-35pt} \rule{\textwidth}{2.5pt} \vspace*{-80pt} ]% after the title body
 

\titleformat{\section}%
  {\centering\it\Large}% format applied to label+text
  {Section \thesection:}% label
  {10pt}% horizontal separation between label and title body
  {}% before the title body
  [\vspace*{-10pt}]% after the title body
 



% Make sections to uppercase
\usepackage{titlesec}

%------------------------------------------------
% Format list of figures
%------------------------------------------------
\makeatletter
\renewcommand*\l@figure{\@dottedtocline{1}{1.5em}{2.3em}}
\makeatother

%------------------------------------------------
% Format list of tables
%------------------------------------------------
\makeatletter
\renewcommand*\l@table{\@dottedtocline{1}{1.5em}{2.3em}}
\makeatother

%------------------------------------------------
% Format paragraph environments
%------------------------------------------------
\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
                                    {0.0ex  \@minus.2ex}%
                                    {-1em}%
                                    {\normalfont\normalsize\bfseries}}
\makeatother
 

% \setlength{\parindent}{0.5in}

\makeatletter
% Paragraph indentation and separation for normal text
\renewcommand{\@tufte@reset@par}{%
  \setlength{\RaggedRightParindent}{0.25in}%
  \setlength{\JustifyingParindent}{0.25in}%
  \setlength{\parindent}{0.25in}%
  \setlength{\parskip}{0pt}%
}
\@tufte@reset@par

%------------------------------------------------
% XAI L2O Colors
%------------------------------------------------
\usepackage{fontawesome}
%\usepackage{bbding}
\usepackage{pifont}
%\usepackage{wasysym}
%\usepackage{amssymb}
%\usepackage[table]{xcolor}
\usepackage{multirow}
\usepackage{colortbl,booktabs} % color table rows
\def\ROWCOLOR{black!15!white}

\usepackage{newfloat}
\usepackage{listings}
\lstset{%
	basicstyle={\footnotesize\ttfamily},% footnotesize acceptable for monospace
	numbers=left,numberstyle=\footnotesize,xleftmargin=2em,% show line numbers, remove this entire line if you don't want the numbers.
	aboveskip=0pt,belowskip=0pt,%
	showstringspaces=false,tabsize=2,breaklines=true}
%\floatstyle{ruled}
%\newfloat{listing}{tb}{lst}{}
%\floatname{listing}{Listing}

\usepackage{pgfplots}
\usetikzlibrary{intersections}
\usepgfplotslibrary{fillbetween}

\definecolor{BLUE}{rgb}{0.3,0.3,0.9}
\definecolor{RED}{rgb}{0.8,0.05,0.05}
\definecolor{GREEN}{rgb}{0.05,0.5,0.05}
\definecolor{YELLOW}{rgb}{0.9, 0.7, 0.3}
\definecolor{PURPLE}{HTML}{6f4cff}

\hypersetup{hidelinks,
backref=true,
pagebackref=true,
hyperindex=true,
breaklinks=true,
colorlinks=true,%linkcolor=black,
urlcolor=PURPLE!70!black,
linkcolor=PURPLE!70!black,
bookmarks=true,
bookmarksopen=false,
pdftitle={Title},
pdfauthor={Author}}